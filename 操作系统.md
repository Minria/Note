# 计算机系统概述

## 操作系统基本概念

### 操作系统基本概念

操作系统(Operating System, OS)是指控制和管理整个计算机系统的硬件与软件资源， 合理地组织、调度计算机的工作与资源的分配， 进而为用户和其他软件提供方便接口与环境的程序集合。 操作系统是计算机系统中最基本的系统软件。

### 操作系统的特征

操作系统是一种系统软件，但与其他系统软件和应用软件有很大的不同，它有自己的特殊性即基本特征。 操作系统的基本特征包括并发、 共享、 虚拟和异步。

**并发**

并发是指两个或多个事件在同一时间间隔内发生。操作系统的并发性是指计算机系统中同时存在多个运行的程序， 因此它具有处理和调度多个程序同时执行的能力。 在操作系统中， 引入进程的目的是使程序能并发执行。
注意同一时间间隔（并发）和同一时刻（并行）的区别。 在多道程序环境下， 一段时间内，宏观上有多道程序在同时执行， 而在每个时刻， 单处理机环境下实际仅能有一道程序执行， 因此微观上这些程序仍是分时交替执行的。 操作系统的并发性是通过分时得以实现的。

**共享**

资源共享即共享，是指系统中的资源可供内存中多个并发执行的进程共同使用。共享可分为以下两种资源共享方式。

1. 互斥共享方式

系统中的某些资源， 如打印机、 磁带机， 虽然可供多个进程使用，但为使得所打印或记录的结果不致造成混淆， 应规定在一段时间内只允许一个进程访问该资源。

2. 同时访问方式

系统中还有另一类资源， 这类资源允许在一段时间内由多个进程 ”同时“ 访问。

 **虚拟**

虚拟是指把一个物理上的实体变为若干逻辑上的对应物。 物理实体（前者） 是实的，即实际在的；而后者是虚的，是用户感觉上的事物。 用千实现虚拟的技术，称为虚拟技术。 操作系统 中利用了多种虚拟技术来实现虚拟处理器、 虚拟内存和虚拟外部设备等。

**异步**

多道程序环境允许多个程序并发执行，但由千资源有限，进程的执行并不是一贯到底的，而是走走停停的，它以不可预知的速度向前推进，这就是进程的异步性。

异步性使得操作系统运行在一种随机的环境下，可能导致进程产生与时间有关的错误（就像对全局变量的访问顺序不当会导致程序出错一样）。 然而， 只要运行环境相同，操作系统就须保证多次运行进程后都能获得相同的结果。

### 操作系统的目标和功能

**操作系统作为计算机系统资源的管理者**

1. 处理机管理
   在多道程序环境下，处理机的分配和运行都以进程（或线程）为基本单位， 因而对处理机的管理可归结为对进程的管理。并发是指在计算机内同时运行多个进程， 因此进程何时创建、何时 撤销、如何管理、如何避免冲突、合理共享就是进程管理的最主要的任务。进程管理的主要功能包括进程控制、进程同步、进程通信、死锁处理、处理机调度等。

2. 存储器管理。

   存储器管理是为了给多道程序的运行提供良好的环境， 方便用户使用及提高内存的利用率，主要包括内存分配与回收、地址映射、 内存保护与共享和内存扩充等功能。

3. 文件管理

   计算机中的信息都是以文件的形式存在的， 操作系统中负责文件管理的部分称为文件系统。文件管理包括文件存储空间的管理、 目录管理及文件读写管理和保护等。

4. 设备管理

   设备管理的主要任务是完成用户的 I/0 请求，方便用户使用各种设备，并提高设备的利用率，主要包括缓冲管理、设备分配、设备处理和虚拟设备等功能。

**操作系统作为用户与计算机硬件系统之间的接口**

1. 命令接口

   1. 联机命令接口又称交互式命令接口，适用千分时或实时系统的接口。它由一组键盘操作命令 组成。用户通过控制台或终端输入操作命令， 向系统提出各种服务要求。用户每输入一条命令，控制权就转给操作系统的命令解释程序， 然后由命令解释程序解释并执行输入的命令， 完成指定的功能。之后， 控制权转回控制台或终端， 此时用户又可输入下一条命令。联机命令接口可以这样理解： “雇主” 说一句话， “工人“ 做一件事， 并做出反馈， 这就强调了交互性。
   2. 脱机命令接口又称批处理命令接口， 适用千批处理系统， 它由一组作业控制命令组成。脱机 用户不能直接干预作业的运行， 而应事先用相应的作业控制命令写成一份作业操作说明书， 连同 作业一起提交给系统。系统调度到该作业时， 由系统中的命令解释程序逐条解释执行作业说明书上的命令， 从而间接地控制作业的运行。脱机命令接口可以这样理解： “雇主” 把要 “工人“ 做的事写在清单上，“工人” 按照清单命令逐条完成这些事， 这就是批处理。

2. 程序接口

   程序接口由一组系统调用（也称广义指令）组成。用户通过在程序中使用这些系统调用来请求操作系统为其提供服务， 如使用各种外部设备、 申请分配和回收内存及其他各种要求。
   当前最为流行的是图形用户界面 (GUI)，即图形接口。GUI 最终是通过调用程序接口实现的，用户通过鼠标和键盘在图形界面上单击或使用快捷键， 就能很方便地使用操作系统。严格来说，图形接口不是操作系统的一部分， 但图形接口所调用的系统调用命令是操作系统的一部分。

**操作系统用作扩充机器**

没有任何软件支持的计算机称为裸机， 它仅构成计算机系统的物质基础， 而实际呈现在用户面前的计算机系统是经过若干层软件改造的计算机。 裸机在最里层， 其外面是操作系统。 操作系 统所提供的资源管理功能和方便用户的各种服务功能， 将裸机改造成功能更强、 使用更方便的机 器； 因此， 我们通常把稷盖了软件的机器称为扩充机器或虚拟机。
